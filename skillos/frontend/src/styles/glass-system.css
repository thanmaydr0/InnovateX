/* 
  Premium Cognitive OS Design System
  Components: macOS System Utility Style
  v2.4.0
*/

:root {
    /* =========================================
     1. Color Palette
     ========================================= */

    --color-bg-base: #0F1113;
    --color-bg-elevated: #1A1D20;
    --color-bg-surface: #22262A;
    --color-bg-hover: #292E33;
    --color-bg-active: #31373D;

    --color-accent: #C49B3A;
    --color-accent-muted: rgba(196, 155, 58, 0.12);
    --color-accent-subtle: rgba(196, 155, 58, 0.06);
    --color-accent-hover: #D4A844;

    --color-text-primary: #E8E6E3;
    --color-text-secondary: #9A9996;
    --color-text-tertiary: #6B6966;
    --color-text-disabled: #4A4845;

    --color-success: #5A9A5A;
    --color-warning: #C49B3A;
    --color-danger: #B85450;
    --color-info: #6A8FAA;

    /* Borders - Subtle, preferred over shadows */
    --color-border-subtle: rgba(255, 255, 255, 0.04);
    --color-border-default: rgba(255, 255, 255, 0.08);
    --color-border-strong: rgba(255, 255, 255, 0.12);
    --color-border-focus: rgba(196, 155, 58, 0.4);

    /* =========================================
     2. Typography
     ========================================= */

    --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'SF Pro Text', 'Segoe UI', Roboto, sans-serif;
    --font-mono: 'SF Mono', 'Fira Code', 'JetBrains Mono', 'Consolas', monospace;

    --text-xs: 0.6875rem;
    --text-sm: 0.8125rem;
    --text-base: 0.875rem;
    --text-lg: 1rem;
    --text-xl: 1.125rem;
    --text-2xl: 1.25rem;
    --text-3xl: 1.5rem;
    --text-4xl: 2rem;

    --weight-regular: 400;
    --weight-medium: 500;
    --weight-semibold: 600;

    --leading-none: 1;
    --leading-tight: 1.25;
    --leading-snug: 1.375;
    --leading-normal: 1.5;
    --leading-relaxed: 1.625;

    --tracking-tighter: -0.02em;
    --tracking-tight: -0.01em;
    --tracking-normal: 0;
    --tracking-wide: 0.02em;

    /* =========================================
     3. Spacing
     ========================================= */
    --space-1: 0.25rem;
    --space-2: 0.5rem;
    --space-3: 0.75rem;
    --space-4: 1rem;
    --space-5: 1.25rem;
    --space-6: 1.5rem;
    --space-8: 2rem;
    --space-10: 2.5rem;
    --space-12: 3rem;
    --space-16: 4rem;

    /* =========================================
     4. Radii - Rounded but not playful
     ========================================= */
    --radius-xs: 3px;
    --radius-sm: 5px;
    --radius-md: 8px;
    --radius-lg: 10px;
    --radius-xl: 12px;

    /* =========================================
     5. Effects - Minimal, borders over shadows
     ========================================= */
    --shadow-none: none;
    --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.15);
    --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.2);

    /* =========================================
     6. Motion
     ========================================= */
    --duration-instant: 0ms;
    --duration-fast: 120ms;
    --duration-normal: 180ms;
    --duration-slow: 250ms;
    --duration-slower: 320ms;

    --ease-default: cubic-bezier(0.25, 0.1, 0.25, 1);
    --ease-in: cubic-bezier(0.42, 0, 1, 1);
    --ease-out: cubic-bezier(0, 0, 0.58, 1);
    --ease-spring: cubic-bezier(0.22, 1, 0.36, 1);

    --transition-micro: var(--duration-fast) var(--ease-default);
    --transition-state: var(--duration-normal) var(--ease-out);
    --transition-panel: var(--duration-slow) var(--ease-spring);
    --transition-modal: var(--duration-slower) var(--ease-spring);
}

/* =========================================
   Base Styles
   ========================================= */

*,
*::before,
*::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

html {
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

body {
    font-family: var(--font-sans);
    font-size: var(--text-base);
    font-weight: var(--weight-regular);
    line-height: var(--leading-normal);
    letter-spacing: var(--tracking-tight);
    color: var(--color-text-primary);
    background: var(--color-bg-base);
    min-height: 100vh;
    font-feature-settings: 'kern' 1, 'liga' 1, 'calt' 1;
}

::selection {
    background: var(--color-accent-muted);
    color: var(--color-text-primary);
}

/* =========================================
   Cards / Panels
   
   macOS System Utility Style:
   - Flat or very subtle elevation
   - Borders preferred over shadows
   - Rounded but not playful
   ========================================= */

.panel {
    background: var(--color-bg-elevated);
    border: 1px solid var(--color-border-default);
    border-radius: var(--radius-lg);
}

.panel-flat {
    background: var(--color-bg-elevated);
    border: 1px solid var(--color-border-subtle);
    border-radius: var(--radius-lg);
    box-shadow: none;
}

.panel-inset {
    background: var(--color-bg-base);
    border: 1px solid var(--color-border-subtle);
    border-radius: var(--radius-md);
}

.card {
    background: var(--color-bg-elevated);
    border: 1px solid var(--color-border-default);
    border-radius: var(--radius-lg);
    padding: var(--space-5);
}

.card-subtle {
    background: transparent;
    border: 1px solid var(--color-border-subtle);
    border-radius: var(--radius-lg);
    padding: var(--space-5);
}

.card-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: var(--space-4);
}

.card-title {
    font-size: var(--text-xs);
    font-weight: var(--weight-medium);
    letter-spacing: var(--tracking-wide);
    text-transform: uppercase;
    color: var(--color-text-tertiary);
}

/* Section dividers */
.divider {
    height: 1px;
    background: var(--color-border-subtle);
    margin: var(--space-4) 0;
}

/* =========================================
   Buttons
   
   macOS System Utility Style:
   - Minimal
   - Mostly text + subtle background change
   - Accent yellow only for primary actions
   ========================================= */

.btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-2);
    padding: var(--space-2) var(--space-3);
    font-family: var(--font-sans);
    font-size: var(--text-sm);
    font-weight: var(--weight-medium);
    line-height: var(--leading-tight);
    border-radius: var(--radius-sm);
    border: none;
    cursor: pointer;
    outline: none;
    background: transparent;
    color: var(--color-text-secondary);

    transition:
        background-color var(--transition-micro),
        color var(--transition-micro);
}

.btn:hover {
    background: var(--color-bg-hover);
    color: var(--color-text-primary);
}

.btn:active {
    background: var(--color-bg-active);
}

.btn:focus-visible {
    box-shadow: 0 0 0 2px var(--color-border-focus);
}

/* Primary - Only action that uses accent */
.btn-primary {
    background: var(--color-accent);
    color: var(--color-bg-base);
    padding: var(--space-2) var(--space-4);
}

.btn-primary:hover {
    background: var(--color-accent-hover);
    color: var(--color-bg-base);
}

.btn-primary:active {
    opacity: 0.9;
}

/* Secondary - Subtle border */
.btn-secondary {
    background: var(--color-bg-surface);
    color: var(--color-text-primary);
    border: 1px solid var(--color-border-default);
    padding: var(--space-2) var(--space-4);
}

.btn-secondary:hover {
    background: var(--color-bg-hover);
    border-color: var(--color-border-strong);
}

/* Ghost - Text only, minimal */
.btn-ghost {
    background: transparent;
    color: var(--color-text-secondary);
}

.btn-ghost:hover {
    background: var(--color-bg-hover);
    color: var(--color-text-primary);
}

/* Text button - No background at all */
.btn-text {
    background: transparent;
    color: var(--color-text-secondary);
    padding: var(--space-1) var(--space-2);
}

.btn-text:hover {
    color: var(--color-text-primary);
    background: transparent;
}

/* Accent text link */
.btn-link {
    background: transparent;
    color: var(--color-accent);
    padding: 0;
}

.btn-link:hover {
    color: var(--color-accent-hover);
    background: transparent;
    text-decoration: underline;
}

/* Icon button */
.btn-icon {
    padding: var(--space-2);
    border-radius: var(--radius-sm);
}

/* Button sizes */
.btn-sm {
    padding: var(--space-1) var(--space-2);
    font-size: var(--text-xs);
}

.btn-lg {
    padding: var(--space-3) var(--space-5);
    font-size: var(--text-base);
}

/* =========================================
   Inputs
   
   macOS System Utility Style:
   - Clean, quiet, almost invisible until focused
   - Focus uses muted yellow outline
   ========================================= */

.input {
    width: 100%;
    padding: var(--space-2) var(--space-3);
    font-family: var(--font-sans);
    font-size: var(--text-base);
    font-weight: var(--weight-regular);
    line-height: var(--leading-normal);
    color: var(--color-text-primary);
    background: var(--color-bg-surface);
    border: 1px solid var(--color-border-subtle);
    border-radius: var(--radius-md);
    outline: none;

    transition:
        border-color var(--transition-micro),
        box-shadow var(--transition-state);
}

.input::placeholder {
    color: var(--color-text-disabled);
}

.input:hover {
    border-color: var(--color-border-default);
}

.input:focus {
    border-color: var(--color-accent);
    box-shadow: 0 0 0 3px var(--color-accent-subtle);
}

/* Minimal input - Almost invisible */
.input-minimal {
    background: transparent;
    border: 1px solid transparent;
    border-bottom-color: var(--color-border-subtle);
    border-radius: 0;
    padding: var(--space-2) 0;
}

.input-minimal:hover {
    border-bottom-color: var(--color-border-default);
}

.input-minimal:focus {
    border-bottom-color: var(--color-accent);
    box-shadow: none;
}

/* Search input */
.input-search {
    background: var(--color-bg-base);
    border: 1px solid var(--color-border-subtle);
    padding-left: var(--space-8);
}

/* Textarea */
.textarea {
    resize: vertical;
    min-height: 80px;
}

/* Select */
.select {
    appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%236B6966' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='m6 9 6 6 6-6'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right var(--space-3) center;
    padding-right: var(--space-8);
}

/* Form group */
.form-group {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
}

.form-label {
    font-size: var(--text-sm);
    font-weight: var(--weight-medium);
    color: var(--color-text-secondary);
}

.form-hint {
    font-size: var(--text-xs);
    color: var(--color-text-tertiary);
}

/* =========================================
   Lists
   ========================================= */

.list {
    display: flex;
    flex-direction: column;
}

.list-item {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    padding: var(--space-2) var(--space-3);
    border-radius: var(--radius-sm);
    cursor: pointer;

    transition: background-color var(--transition-micro);
}

.list-item:hover {
    background: var(--color-bg-hover);
}

.list-item-active {
    background: var(--color-accent-subtle);
    color: var(--color-accent);
}

.list-item-text {
    font-size: var(--text-sm);
    font-weight: var(--weight-regular);
    color: var(--color-text-primary);
}

.list-item-meta {
    font-size: var(--text-xs);
    color: var(--color-text-tertiary);
    margin-left: auto;
}

/* =========================================
   Typography Classes
   ========================================= */

.heading-1 {
    font-size: var(--text-2xl);
    font-weight: var(--weight-semibold);
    line-height: var(--leading-tight);
    letter-spacing: var(--tracking-tighter);
    color: var(--color-text-primary);
}

.heading-2 {
    font-size: var(--text-xl);
    font-weight: var(--weight-semibold);
    line-height: var(--leading-tight);
    letter-spacing: var(--tracking-tight);
    color: var(--color-text-primary);
}

.heading-3 {
    font-size: var(--text-lg);
    font-weight: var(--weight-medium);
    line-height: var(--leading-snug);
    letter-spacing: var(--tracking-tight);
    color: var(--color-text-primary);
}

.body {
    font-size: var(--text-base);
    font-weight: var(--weight-regular);
    line-height: var(--leading-normal);
    color: var(--color-text-secondary);
}

.body-sm {
    font-size: var(--text-sm);
    font-weight: var(--weight-regular);
    line-height: var(--leading-normal);
    color: var(--color-text-secondary);
}

.label {
    font-size: var(--text-xs);
    font-weight: var(--weight-medium);
    line-height: var(--leading-tight);
    letter-spacing: var(--tracking-wide);
    text-transform: uppercase;
    color: var(--color-text-tertiary);
}

.metric-label {
    font-size: var(--text-xs);
    font-weight: var(--weight-medium);
    line-height: var(--leading-tight);
    letter-spacing: var(--tracking-wide);
    text-transform: uppercase;
    color: var(--color-text-tertiary);
}

.metric-value {
    font-size: var(--text-3xl);
    font-weight: var(--weight-semibold);
    line-height: var(--leading-none);
    letter-spacing: var(--tracking-tighter);
    color: var(--color-text-primary);
    font-variant-numeric: tabular-nums;
}

.mono {
    font-family: var(--font-mono);
    font-size: 0.9em;
    font-feature-settings: 'liga' 0;
}

/* =========================================
   Progress
   ========================================= */

.progress {
    height: 4px;
    background: var(--color-bg-surface);
    border-radius: 2px;
    overflow: hidden;
}

.progress-fill {
    height: 100%;
    background: var(--color-accent);
    border-radius: 2px;
    transition: width var(--duration-slow) var(--ease-out);
}

.progress-fill-success {
    background: var(--color-success);
}

.progress-fill-danger {
    background: var(--color-danger);
}

/* =========================================
   Status Indicators
   ========================================= */

.status-dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    flex-shrink: 0;
}

.status-dot-success {
    background: var(--color-success);
}

.status-dot-warning {
    background: var(--color-warning);
}

.status-dot-danger {
    background: var(--color-danger);
}

.status-dot-muted {
    background: var(--color-text-disabled);
}

/* Badge */
.badge {
    display: inline-flex;
    align-items: center;
    gap: var(--space-1);
    padding: 2px var(--space-2);
    font-size: var(--text-xs);
    font-weight: var(--weight-medium);
    border-radius: var(--radius-xs);
    background: var(--color-bg-surface);
    color: var(--color-text-secondary);
}

.badge-accent {
    background: var(--color-accent-subtle);
    color: var(--color-accent);
}

.badge-success {
    background: rgba(90, 154, 90, 0.1);
    color: var(--color-success);
}

.badge-danger {
    background: rgba(184, 84, 80, 0.1);
    color: var(--color-danger);
}

/* =========================================
   Animations
   ========================================= */

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(4px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.animate-fade-in {
    animation: fadeIn var(--duration-slow) var(--ease-spring) forwards;
}

@keyframes scaleIn {
    from {
        opacity: 0;
        transform: scale(0.98);
    }

    to {
        opacity: 1;
        transform: scale(1);
    }
}

.animate-scale-in {
    animation: scaleIn var(--duration-slower) var(--ease-spring) forwards;
}

@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateY(8px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.animate-slide-up {
    animation: slideUp var(--duration-slow) var(--ease-spring) forwards;
}

.stagger-1 {
    animation-delay: 30ms;
}

.stagger-2 {
    animation-delay: 60ms;
}

.stagger-3 {
    animation-delay: 90ms;
}

.stagger-4 {
    animation-delay: 120ms;
}

.stagger-5 {
    animation-delay: 150ms;
}

@media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* =========================================
   Utility Classes
   ========================================= */

.text-primary {
    color: var(--color-text-primary);
}

.text-secondary {
    color: var(--color-text-secondary);
}

.text-tertiary {
    color: var(--color-text-tertiary);
}

.text-disabled {
    color: var(--color-text-disabled);
}

.text-accent {
    color: var(--color-accent);
}

.text-success {
    color: var(--color-success);
}

.text-warning {
    color: var(--color-warning);
}

.text-danger {
    color: var(--color-danger);
}

.bg-base {
    background: var(--color-bg-base);
}

.bg-elevated {
    background: var(--color-bg-elevated);
}

.bg-surface {
    background: var(--color-bg-surface);
}

.bg-hover {
    background: var(--color-bg-hover);
}

.bg-accent-subtle {
    background: var(--color-accent-subtle);
}

.border-subtle {
    border-color: var(--color-border-subtle);
}

.border-default {
    border-color: var(--color-border-default);
}

.border-strong {
    border-color: var(--color-border-strong);
}

.font-regular {
    font-weight: var(--weight-regular);
}

.font-medium {
    font-weight: var(--weight-medium);
}

.font-semibold {
    font-weight: var(--weight-semibold);
}

.text-xs {
    font-size: var(--text-xs);
}

.text-sm {
    font-size: var(--text-sm);
}

.text-base {
    font-size: var(--text-base);
}

.text-lg {
    font-size: var(--text-lg);
}

.text-xl {
    font-size: var(--text-xl);
}

.text-2xl {
    font-size: var(--text-2xl);
}

.text-3xl {
    font-size: var(--text-3xl);
}

.text-4xl {
    font-size: var(--text-4xl);
}

.tracking-tighter {
    letter-spacing: var(--tracking-tighter);
}

.tracking-tight {
    letter-spacing: var(--tracking-tight);
}

.tracking-normal {
    letter-spacing: var(--tracking-normal);
}

.tracking-wide {
    letter-spacing: var(--tracking-wide);
}

.leading-none {
    line-height: var(--leading-none);
}

.leading-tight {
    line-height: var(--leading-tight);
}

.leading-snug {
    line-height: var(--leading-snug);
}

.leading-normal {
    line-height: var(--leading-normal);
}

.leading-relaxed {
    line-height: var(--leading-relaxed);
}

.uppercase {
    text-transform: uppercase;
}

.tabular-nums {
    font-variant-numeric: tabular-nums;
}

.transition-micro {
    transition: all var(--transition-micro);
}

.transition-state {
    transition: all var(--transition-state);
}

.transition-panel {
    transition: all var(--transition-panel);
}

/* Loader Animation for Spline */
.loader {
    width: 24px;
    height: 24px;
    border: 2px solid rgba(255, 255, 255, 0.1);
    border-top-color: var(--color-accent, #C49B3A);
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
    display: inline-block;
}

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}